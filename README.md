# Курсовой проект

## Описание проекта

Данный проект представляет собой Java-приложение с графическим интерфейсом (GUI) на Swing для управления составом пассажирских железнодорожных поездов. Приложение позволяет:

*   Просматривать список существующих поездов.
*   Просматривать детальную информацию о выбранном поезде (номер, суммарная вместимость, багаж).
*   Просматривать список вагонов выбранного поезда в табличном виде.
*   Сортировать и фильтровать вагоны в таблице по различным параметрам (тип, вместимость).
*   **Для администраторов:**
    *   Создавать новые поезда.
    *   Удалять существующие поезда (вместе со всеми вагонами).
    *   Добавлять вагоны различных типов (Пассажирский, Ресторан, Багажный, Локомотив) к поезду.
    *   Редактировать характеристики существующих вагонов.
    *   Удалять отдельные вагоны из поезда.
    *   Сохранять все изменения в базе данных.
*   Реализована система аутентификации с разделением ролей (администратор, пользователь). Пароли хранятся в хэшированном виде.
*   Все операции логируются в файл.

Проект выполнен в рамках курсовой работы по объектно-ориентированному программированию.

 <!-- Здесь можно добавить скриншоты основных окон приложения, если хочешь -->
 <!-- Например:
 ![Окно входа](link/to/login_screenshot.png)
 ![Панель администратора](link/to/admin_panel_screenshot.png)
 -->

## Технологии

*   **Язык:** Java 8 (или выше, совместимый с Maven настройками)
*   **GUI:** Java Swing
*   **Сборка и Зависимости:** Apache Maven
*   **База данных:** H2 Database (в режиме TCP сервера, файл `train_db.mv.db` создается в корне проекта)
*   **Логирование:** Log4j 1.2
*   **Хэширование паролей:** jBCrypt
*   **Тестирование (опционально):** JUnit, Mockito

## Структура проекта

Проект организован с использованием многослойной архитектуры:

*   **`main`**: Класс точки входа (`Main.java`) и контроллер (`TrainController.java`).
*   **`main.ui`**: Классы пользовательского интерфейса Swing (главное окно `MainGUI.java`, панели `LoginPanel.java`, `AdminPanel.java`, `UserPanel.java` и вспомогательные `TrainInfoPanel.java`, `WagonsTablePanel.java`, `TrainControlPanel.java`).
*   **`com.transportcompany.db`**: Классы доступа к данным (DAO) - `TrainDao.java` (для поездов/вагонов) и `UserDao.java` (для пользователей). `TrainDao` также управляет запуском/остановкой сервера H2 и инициализацией БД.
*   **`com.transportcompany.train`**: Класс модели поезда (`Train.java`).
*   **`com.transportcompany.vehicle`**: Иерархия классов моделей подвижного состава (интерфейс `Vehicle.java`, абстрактный класс `AbstractVehicle.java` и конкретные реализации `PassengerCar.java`, `RestaurantCar.java`, `BaggageCar.java`, `Locomotive.java`).
*   **`com.transportcompany.exception`**: Пользовательское исключение `TrainValidationException.java`.
*   **`com.transportcompany.util`**: Утилитарные классы (например, `TrainUtils.java` для сортировки).
*   **`src/main/resources`**: Ресурсы приложения, включая файл конфигурации `log4j.properties`.

## Требования к курсовому проекту (Из задания)

1.  Каждый класс должен иметь исчерпывающее смысл название и информативный состав.
2.  Наследование должно применяться только тогда, когда это имеет смысл.
3.  Классы должны быть грамотно разложены по пакетам.
4.  Работа с консолью или консольное меню должно быть минимальным. (Реализовано через GUI, но остались отладочные логи в консоли при запуске H2/Log4j).
5.  Для хранения параметров инициализации можно использовать коллекции (или файлы). (Реализовано через инициализацию БД).
6.  Использовать возможности ООП: классы, наследование, полиморфизм, инкапсуляция.
7.  Реализация заданных методов (иерархия ТС, создание поезда, подсчеты, сортировка, поиск).
8.  При кодировании должны быть использованы соглашения об оформлении кода java code convention.
9.  Использовать библиотеку Log4J.
10. Применить документирование кода (javadoc).
11. Обработка исключений.

## Установка и Запуск

**Требования:**

*   Java Development Kit (JDK) версии 8 или выше.
*   Apache Maven.
*   Git (для клонирования).

**Инструкции:**

1.  **Клонировать репозиторий:**
    ```bash
    git clone https://github.com/ТвойНик/имя-репозитория.git
    cd имя-репозитория
    ```
    *(Замени URL на актуальный)*

2.  **Собрать проект с помощью Maven:**
    Эта команда скачает все зависимости, скомпилирует код и создаст JAR-файл (хотя для запуска он не обязателен).
    ```bash
    mvn clean install
    ```

3.  **Запустить приложение:**
    Используйте плагин Maven Exec для запуска главного класса.
    ```bash
    mvn exec:java
    ```
    *При первом запуске будет создан файл базы данных `train_db.mv.db` и лог-файл `train_log.log` в корневой папке проекта.*

4.  **Вход в систему:**
    *   Логин администратора: `admin`
    *   Пароль администратора: `admin123`
    *   Логин пользователя: `user`
    *   Пароль пользователя: `user123`

## Замечания

*   Приложение использует TCP-сервер H2 на порту 9092. Убедитесь, что этот порт свободен перед запуском.
*   При завершении работы приложения (закрытие главного окна) сервер H2 должен корректно останавливаться. Если приложение было завершено некорректно (например, через Ctrl+C в консоли), может потребоваться вручную завершить процесс H2 или удалить файл `.lock.db` перед следующим запуском.
*   Логирование ведется в файл `train_log.log` в корневой директории проекта (настройки в `src/main/resources/log4j.properties`).

## Автор

*   [alessandro] - [ Taurbay Nurdaulet ]